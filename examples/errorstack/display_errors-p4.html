<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="index,nofollow" />
<meta name="keywords" content"="HTML_Progress, PEAR_Error, API error, progress meter" />
<meta name="description" content="all API HTML_Progress errors are sent to browser" />
<meta name="author" content="Laurent Laville" />
<title>PEAR::HTML::Progress example: Display handler - part 4</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../examples.css" />
</head>
<body>

<a name="top">

<p><a href="../index.html"><img src="../images/home.gif" alt="Examples TOC"/>examples</a></p>

<h1><span class="chapter">Display handler - part 4.</span></h1>

<p align="right">$Date$</p>

<div class="toc">&nbsp;Table of contents </div>
<ul>
<li><a href="#intro">Introduction<a>
<li><a href="#render">Render options<a>
<li><a href="#output">Ouput</a>
<li><a href="#source">PHP source syntax highlight<a>
</ul>


<a name="intro">
<h2><img src="../images/info.gif"/> Introduction</h2>
		
<p>This example requires :
<ul>
<li>PEAR::HTML_Progress 1.2.0 or better.</li>
<li>PEAR.</li>
</ul>
</p>

<hr/>
<p><b>This example will show you how to handle html_progress api exceptions without die.</b></p>

<p>An error was volontary made on call of <b>setAnimSpeed</b> method (line 14).
It's an API exception, and we have decided to push and logs this error (lines 4 thru 10, and 11),
so only lines 16 thru 20 will be executed.</p>


<h3>display_errors</h3>
<p>
Print out errors (as a part of the output).  For production web sites,
you're strongly encouraged to turn this feature off, and use error logging
instead.  Keeping display_errors enabled on a production web site
may reveal security information to end users, such as file paths on your Web
server, your database schema or other information.
</p>

<table class="hl-table" width="100%">
<tr>
<td class="hl-gutter" align="right" valign="top" style="width:4ex;">1</td>
<td class="hl-main" valign="top">
<span class="hl-inlinetags">&lt;?php  </span><span class="hl-identifier">ini_set</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">display_errors</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">false</span><span class="hl-brackets">)</span><span class="hl-code">;  </span><span class="hl-inlinetags">?&gt;</span>
</td>
</tr>
</table>

<h3>log_errors</h3>
<p>
Log errors into a log file (server-specific log, stderr, syslog ...)
As stated above, you're strongly advised to use error logging in place of
error displaying on production web sites.
</p>

<table class="hl-table" width="100%">
<tr>
<td class="hl-gutter" align="right" valign="top" style="width:4ex;">1</td>
<td class="hl-main" valign="top">
<span class="hl-inlinetags">&lt;?php  </span><span class="hl-identifier">ini_set</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">log_errors</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;  </span><span class="hl-inlinetags">?&gt;</span>
</td>
</tr>
</table>


<a name="render">
<h2><img src="../images/config.gif"/>&nbsp;Render options </h2>
<p>Default options below are used :</p>
<ul>
<li><b>error_handler</b> : callback HTML_Progress::_errorHandler() [use PEAR_Error]
<li><b>message_callback</b> : callback HTML_Progress::_msgCallback()
<li><b>context_callback</b> : callback HTML_Progress::_getBacktrace()
<li><b>handler</b>/<b>display</b>/conf/lineFormat : '&lt;b>%1$s&lt;/b>: %2$s %3$s'
<li><b>handler</b>/<b>display</b>/conf/contextFormat : ' in &lt;b>%3$s&lt;/b> (file &lt;b>%1$s&lt;/b> at line &lt;b>%2$s&lt;/b>)'
</ul>

<p>Only option changed is :</p>
<ul>
<li><b>push_callback</b> : callback _pushCallback() [push and logs if error is an exception]
</ul>

Legend for <b>lineFormat</b>:
<ul type="square">
<li>1$ = error level 
<li>2$ = message body 
<li>3$ = error context (class/method/file/line)
</ul>
Legend for <b>contextFormat</b>:
<ul type="square">
<li>1$ = filename
<li>2$ = line number
<li>3$ = class and method names
</ul>

<p>[<a href="#top">Top</a>]</p>


<a name="output">
<h2><img src="../images/image.gif"/>&nbsp;Output</h2>
<p><font size="1">
<b>Exception</b>: invalid input, parameter #1 "$delay" was expecting "integer", instead got "string"  in <b>html_progress::setanimspeed</b> (file <b>d:\php\pear\html_progress\examples\errorstack\secure\display_errors-p4.php</b> at line <b>14</b>)<br />
<p><font size="4"><b>Catch PEAR_Error</b></font></p>
[pear_error: message="invalid input, parameter #1 "$delay" was expecting "integer", instead got "string"" code=-100 mode=return level=error prefix="" info="Array"]
</font>
</font></p>

<p>[<a href="#top">Top</a>]</p>
		

<a name="source">
<h2><img src="../images/source.gif"/>&nbsp;PHP source syntax highlight</h2>
<a target="_blank" href="../highlighter.php?file=./errorstack/secure/display_errors-p4.php">Open</a> source listing in a new window.

<p>[<a href="#top">Top</a>]</p>

</body>
</html>
